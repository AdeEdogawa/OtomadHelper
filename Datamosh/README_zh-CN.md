# Vegas 数据抹失 ![Github All Releases](https://img.shields.io/github/downloads/delthas/vegas-datamosh/total.svg?style=flat-square)
**Sony/MAGIX Vegas Pro 脚本包，用于 YTP（Datamosh、Layering ……），使用 FFmpeg 和 Avidemux**

[English](README.md) | **简体中文** | [繁體中文](README_zh-TW.md) | [日本語](README_ja-JP.md) | [Tiếng Việt](README_vi-VN.md)

> Delthas 的原始仓库：https://github.com/delthas/vegas-datamosh

## 新闻
- **1.4.0**：增加了 Datamix（Datamosh：在另一个剪辑 I 帧上应用剪辑 P 帧）
- **1.3.0**：增加了 Automator（随机化视频效果）

## 视频教程
[![youtube video tutorial](0.jpg)](https://www.youtube.com/watch?v=6D2lW6H0bb8)
<!-- Raw image link: https://img.youtube.com/vi/6D2lW6H0bb8/0.jpg -->

## 安装
下载最新[发行版](../releases/latest) **(windows64.zip)** 并解压至 ```C:\Users\<user>\Documents\Vegas Script Menu``` 文件夹内。（如果文件夹不存在，请创建它。）

Vegas 的 `工具 → 脚本化` 子菜单中将添加几个条目。对于每个脚本，都有两个条目，其中一个以“14”为后缀（例如，Datamosh 和 Datamosh14）。如果您使用 Sony Vegas ≤ 13，请使用无后缀的（例如 Datamosh），否则使用后缀为 14 的（例如，Datamosh14）。

通过使用 `选项 → 自定义工具栏` 菜单将脚本添加到工具栏，可以将脚本添加至工具栏按钮，而无需在 `工具 → 脚本化` 子菜单中单击。

**如果 Sony/MAGIX Vegas 抱怨找不到 Microsoft.WindowsAPICodePack.dll 文件，只需重新启动 Vegas，它就会工作。它只是偶尔发生，我还不知道如何解决它。**

**如果您在脚本方面遇到任何问题，或者您有任何建议，请在此仓库中开启一个 issue，或者通过 Discord @ `cc#6439` 联系。**

> ## 注释
> * **I 帧：**<wbr />帧内帧
> * **P 帧：**<wbr />预测帧
> * **B 帧：**<wbr />双向帧

## 脚本

### Datamosh
这会重复 N 个 P 帧 M 次。N 是`帧计数`，M 是`帧重复`。

要使用，请使用 <kbd>I</kbd> 和 <kbd>O</kbd> 在时间轴中选区，然后它将被预渲染和 Datamosh，并添加到您的项目中，所有操作只需单击一次。如果 Vegas 看起来卡住了，那么可能需要较长的时间来处理。

选区的起始是第一个将被重复的 P 帧。这个 P 帧将是相对于前一帧的，而前一帧将被渲染成 I 帧。因此为了获得最佳效果，选区的开始应该是一个运动幅度大的帧。

选区的末尾只是告诉脚本应该将 Datamosh 文件渲染到哪一帧。选择的时间越长，渲染时间就越长。

### Datamix
这将用另一个片段的一帧来替换一个片段的第一个 I 帧。

要使用，请使用 <kbd>I</kbd> 和 <kbd>O</kbd> 在时间轴中选区，然后它将被预渲染和 Datamix，并添加到您的项目中，所有操作只需单击一次。如果 Vegas 看起来卡住了，那么可能需要较长的时间来处理。

选择的开始是剪辑的 I 帧，它将被另一个 I 帧替换。用于新 I 帧的图像将是选择开始前的帧。所以请确保将你要 Datamix 的图像放在选择开始之前。

如果你想在场景变化时进行 Datamix，通常可以在场景变化的那一帧分割剪辑，然后选择右边的剪辑。这会将右侧剪辑 Datamix 到左侧剪辑的最后一帧。

选区的末尾只是告诉脚本应该将 Datamix 文件渲染到哪一帧。选择的时间越长，渲染时间就越长。

### Layer
这将通过复制所选视频剪辑/事件 N 次来执行 Layering，每次将剪辑偏移 M 帧。N 是`层数`，M 是`层叠偏移`。您还可以通过选中`“预渲染”`复选框来选择自动渲染 Layering 剪辑，否则复制的剪辑只会添加到时间轴上。

使用时，请选择单个视频剪辑/事件，然后它将自动多层叠化，并在指定的情况下进行透明渲染。

*您可以使用一个负的偏移量（例如 -2 而不是 2），在这种情况下，新的剪辑/事件将添加在后面，而不是在前面。*

**如果选择自动渲染，渲染后的文件将支持阿尔法/透明度，这意味着您不需要添加绿幕并在之后删除它，阿尔法将自动处理。**

### Render
简便地渲染时间轴的一部分，并一键将其放入时间轴中。

要使用，请使用 <kbd>I</kbd> 和 <kbd>O</kbd> 在时间轴中选区，然后它将被预渲染并添加到您的项目中，所有操作只需单击一次。

**渲染后的文件将支持阿尔法/透明度，这意味着您不需要添加绿幕并在之后删除它，阿尔法将自动处理。**

### Scramble
简便地通过将多个剪辑/事件分割为长度为 N 的子剪辑，并对子剪辑进行扰乱，即可对其进行扰乱。N 是`扰乱大小`，通常为 1。

要使用，请选择几个剪辑/事件（它们必须被实际选中，而不仅仅是在选定的组中），然后它们将被自动扰乱。

*在同一时间开始和结束的剪辑将被一起扰乱，即它们的子剪辑将以同样的方式被扰乱。*

### Automator
这将通过为您选择的每个参数类型在每一帧添加随机关键帧，随机化选定剪辑/事件的视频效果。

要使用，请选择几个具有视频效果的剪辑/事件（它们必须被实际选中，而不仅仅是在选定的组中），然后启动脚本。对于任何剪辑上的每种类型的视频效果参数，系统都会提示您是否希望脚本对参数进行*扰乱*（用随机关键帧替换参数的所有关键帧），或不扰乱（保持关键帧不变）。

**仅支持 *OFX* 视频效果（新闻用纸、镜像……）；它们都有相同的外观，很容易辨识哪些是 OFX 效果。其它效果将被忽略。**

## 提示
在大多数的脚本窗口提示中，按 <kbd>回车键</kbd> 确认，按 <kbd>空格键</kbd> 切换复选框（如果有），所以在大多数时候甚至不需要动鼠标。

## 协议
所有的代码都在 MIT 下授权。这些发行版包括 FFmpeg、Avidemux 和 Xvid 编解码器的二进制文件，它们分别在 LGPL+GPL、GPL 和 GPL 协议下。
